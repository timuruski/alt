#!/usr/bin/env ruby

require 'pathname'

SPEC_FILE = /_spec\./
SOURCE_PATH = %r{(app|lib)/}

path = ARGV[0]
extname = File.extname(path)

case path
when SPEC_FILE
  puts Pathname.new(path).sub('spec', 'lib').sub('_spec', '')
when SOURCE_PATH
  puts Pathname.new(path).sub(/app|lib/, 'spec').sub_ext('_spec' + extname)
else
  puts path
end
